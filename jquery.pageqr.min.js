(function(e){var t={init:function(n){t.settings=e.extend(t.settings,n);e(".pageqr").remove()},show:function(){var n=window.top.location.href;console.log(n);while(n.indexOf("/")!=-1)n=n.replace("/","%2f");var r=e("<div></div>");var i=e('<div class="pageqr"></div>');r.css({background:"url('http://chart.apis.google.com/chart?cht=qr&chs="+t.settings.size+"x"+t.settings.size+"&chl="+n+"&chld="+t.settings.error_correction_level+"|"+t.settings.margin+"') no-repeat",width:t.settings.size+"px",height:t.settings.size+"px"});i.css({width:t.settings.size+"px",position:"fixed","z-index":"1000"});i.append(r);if(t.settings.border){i.css({"border-style":"solid","border-width":"1px"})}if(t.settings.showLabel){var s=e("<span></span>").text(t.settings.labelText);s.css({"font-size":t.settings.size/10+"px",padding:"2px","text-align":"center",display:"block"});i.append(s)}if(t.settings.horizontal==="right"){i.css("right","10px")}else{i.css("left","10px")}if(t.settings.vertical==="top"){i.css("top","10px")}else{i.css("bottom","10px")}e("body").append(i);console.log(r)},settings:{size:100,showLabel:true,labelText:"Scan to open on phone",vertical:"bottom",horizontal:"right",border:true,error_correction_level:"L",margin:4}};e.pageqr=function(e){t.init.apply(this,arguments);t.show.apply(this,Array.prototype.slice.call(arguments,1))}})(jQuery)
